!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}function n(e){return e&&e.Math==Math&&e}function a(e){try{return!!e()}catch(e){return!0}}function g(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function A(e){return m.call(e).slice(8,-1)}function c(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function h(e){return y(c(e))}function p(e){return"object"==typeof e?null!==e:"function"==typeof e}function v(e,t){if(!p(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!p(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!p(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!p(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}function l(e,t){return b.call(e,t)}function i(e){return S?x.createElement(e):{}}function I(e){if(!p(e))throw TypeError(String(e)+" is not an object");return e}function d(t,n){try{T(f,t,n)}catch(e){f[t]=n}return n}var f=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),u=!a(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s={f:o&&!r.call({1:2},1)?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},m={}.toString,w="".split,y=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==A(e)?w.call(e,""):Object(e)}:Object,b={}.hasOwnProperty,x=f.document,S=p(x)&&p(x.createElement),C=!u&&!a(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}),O=Object.getOwnPropertyDescriptor,E={f:u?O:function(e,t){if(e=h(e),t=v(t,!0),C)try{return O(e,t)}catch(e){}if(l(e,t))return g(!s.f.call(e,t),e[t])}},P=Object.defineProperty,k={f:u?P:function(e,t,n){if(I(e),t=v(t,!0),I(n),C)try{return P(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},T=u?function(e,t,n){return k.f(e,t,g(1,n))}:function(e,t,n){return e[t]=n,e},R="__core-js_shared__",j=f[R]||d(R,{}),D=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(e){return D.call(e)});function z(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++K+Q).toString(36)}function M(e){return Y[e]||(Y[e]=z(e))}var F,N,W,L,G,U,$,X,B=j.inspectSource,V=f.WeakMap,H="function"==typeof V&&/native code/.test(B(V)),J=t(function(e){(e.exports=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),K=0,Q=Math.random(),Y=J("keys"),q={},Z=f.WeakMap;$=H?(F=new Z,N=F.get,W=F.has,L=F.set,G=function(e,t){return L.call(F,e,t),t},U=function(e){return N.call(F,e)||{}},function(e){return W.call(F,e)}):(X=M("state"),q[X]=!0,G=function(e,t){return T(e,X,t),t},U=function(e){return l(e,X)?e[X]:{}},function(e){return l(e,X)});function ee(e){return"function"==typeof e?e:void 0}function te(e,t){return arguments.length<2?ee(ve[e])||ee(f[e]):ve[e]&&ve[e][t]||f[e]&&f[e][t]}function ne(e){return isNaN(e=+e)?0:(0<e?we:me)(e)}function ie(e){return 0<e?be(ne(e),9007199254740991):0}function re(e,t){var n=ne(e);return n<0?ye(n+t,0):xe(n,t)}function oe(s){return function(e,t,n){var i,r=h(e),o=ie(r.length),a=re(n,o);if(s&&t!=t){for(;a<o;)if((i=r[a++])!=i)return!0}else for(;a<o;a++)if((s||a in r)&&r[a]===t)return s||a||0;return!s&&-1}}function ae(e,t){var n,i=h(e),r=0,o=[];for(n in i)!l(q,n)&&l(i,n)&&o.push(n);for(;t.length>r;)l(i,n=t[r++])&&(~Se(o,n)||o.push(n));return o}function se(e,t){for(var n=Ae(t),i=k.f,r=E.f,o=0;o<n.length;o++){var a=n[o];l(e,a)||i(e,a,r(t,a))}}function ce(e,t){var n=Te[ke(e)];return n==je||n!=Re&&("function"==typeof t?a(t):!!t)}function le(e,t){var n,i,r,o,a=e.target,s=e.global,c=e.stat,l=s?f:c?f[a]||d(a,{}):(f[a]||{}).prototype;if(l)for(n in t){if(r=t[n],i=e.noTargetGet?(o=ze(l,n))&&o.value:l[n],!De(s?n:a+(c?".":"#")+n,e.forced)&&void 0!==i){if(typeof r==typeof i)continue;se(r,i)}(e.sham||i&&i.sham)&&T(r,"sham",!0),pe(l,n,r,e)}}function de(e){return Object(c(e))}function fe(){}function ue(e){return"<script>"+e+"</"+$e+">"}var ge,he={set:G,get:U,has:$,enforce:function(e){return $(e)?U(e):G(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=U(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}},pe=t(function(e){var t=he.get,s=he.enforce,c=String(String).split("String");(e.exports=function(e,t,n,i){var r=!!i&&!!i.unsafe,o=!!i&&!!i.enumerable,a=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||l(n,"name")||T(n,"name",t),s(n).source=c.join("string"==typeof t?t:"")),e!==f?(r?!a&&e[t]&&(o=!0):delete e[t],o?e[t]=n:T(e,t,n)):o?e[t]=n:d(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||B(this)})}),ve=f,me=Math.ceil,we=Math.floor,be=Math.min,ye=Math.max,xe=Math.min,_e={includes:oe(!0),indexOf:oe(!1)},Se=_e.indexOf,Ce=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Oe=Ce.concat("length","prototype"),Ee={f:Object.getOwnPropertyNames||function(e){return ae(e,Oe)}},Pe={f:Object.getOwnPropertySymbols},Ae=te("Reflect","ownKeys")||function(e){var t=Ee.f(I(e)),n=Pe.f;return n?t.concat(n(e)):t},Ie=/#|\.prototype\./,ke=ce.normalize=function(e){return String(e).replace(Ie,".").toLowerCase()},Te=ce.data={},Re=ce.NATIVE="N",je=ce.POLYFILL="P",De=ce,ze=E.f,Me=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())}),Fe=Me&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ne=Array.isArray||function(e){return"Array"==A(e)},We=Object.keys||function(e){return ae(e,Ce)},Le=u?Object.defineProperties:function(e,t){I(e);for(var n,i=We(t),r=i.length,o=0;o<r;)k.f(e,n=i[o++],t[n]);return e},Ge=te("document","documentElement"),Ue="prototype",$e="script",Xe=M("IE_PROTO"),Be=function(){try{ge=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Be=ge?function(e){e.write(ue("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ge):((t=i("iframe")).style.display="none",Ge.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ue("document.F=Object")),e.close(),e.F);for(var n=Ce.length;n--;)delete Be[Ue][Ce[n]];return Be()};q[Xe]=!0;function Ve(e){return l(ct,e)||(Me&&l(lt,e)?ct[e]=lt[e]:ct[e]=dt("Symbol."+e)),ct[e]}function He(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}function Je(e,t){var n;return Ne(e)&&("function"==typeof(n=e.constructor)&&(n===Array||Ne(n.prototype))||p(n)&&null===(n=n[pt]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}function Ke(g){var h=1==g,p=2==g,v=3==g,m=4==g,w=6==g,b=5==g||w;return function(e,t,n,i){for(var r,o,a=de(e),s=y(a),c=function(i,r,e){if(He(i),void 0===r)return i;switch(e){case 0:return function(){return i.call(r)};case 1:return function(e){return i.call(r,e)};case 2:return function(e,t){return i.call(r,e,t)};case 3:return function(e,t,n){return i.call(r,e,t,n)}}return function(){return i.apply(r,arguments)}}(t,n,3),l=ie(s.length),d=0,f=i||Je,u=h?f(e,l):p?f(e,0):void 0;d<l;d++)if((b||d in s)&&(o=c(r=s[d],d,a),g))if(h)u[d]=o;else if(o)switch(g){case 3:return!0;case 5:return r;case 6:return d;case 2:vt.call(u,r)}else if(m)return!1;return w?-1:v||m?m:u}}function Qe(e,t){var n=Rt[e]=it(Et[xt]);return St(n,{type:yt,tag:e,description:t}),u||(n.description=t),n}function Ye(t,e){I(t);var n=h(e),i=We(n).concat($t(n));return wt(i,function(e){u&&!Ut.call(n,e)||Gt(t,e,n[e])}),t}function qe(e,t){var n=h(e),i=v(t,!0);if(n!==Ot||!l(Rt,i)||l(jt,i)){var r=At(n,i);return!r||!l(Rt,i)||l(n,bt)&&n[bt][i]||(r.enumerable=!0),r}}function Ze(e){var t=kt(h(e)),n=[];return wt(t,function(e){l(Rt,e)||l(q,e)||n.push(e)}),n}var et,tt,nt,it=Object.create||function(e,t){var n;return null!==e?(fe[Ue]=I(e),n=new fe,fe[Ue]=null,n[Xe]=e):n=Be(),void 0===t?n:Le(n,t)},rt=Ee.f,ot={}.toString,at="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],st={f:function(e){return at&&"[object Window]"==ot.call(e)?function(e){try{return rt(e)}catch(e){return at.slice()}}(e):rt(h(e))}},ct=J("wks"),lt=f.Symbol,dt=Fe?lt:lt&&lt.withoutSetter||z,ft={f:Ve},ut=k.f,gt=k.f,ht=Ve("toStringTag"),pt=Ve("species"),vt=[].push,mt={forEach:Ke(0),map:Ke(1),filter:Ke(2),some:Ke(3),every:Ke(4),find:Ke(5),findIndex:Ke(6)},wt=mt.forEach,bt=M("hidden"),yt="Symbol",xt="prototype",_t=Ve("toPrimitive"),St=he.set,Ct=he.getterFor(yt),Ot=Object[xt],Et=f.Symbol,Pt=te("JSON","stringify"),At=E.f,It=k.f,kt=st.f,Tt=s.f,Rt=J("symbols"),jt=J("op-symbols"),Dt=J("string-to-symbol-registry"),zt=J("symbol-to-string-registry"),Mt=J("wks"),Ft=f.QObject,Nt=!Ft||!Ft[xt]||!Ft[xt].findChild,Wt=u&&a(function(){return 7!=it(It({},"a",{get:function(){return It(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=At(Ot,t);i&&delete Ot[t],It(e,t,n),i&&e!==Ot&&It(Ot,t,i)}:It,Lt=Fe?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Et},Gt=function(e,t,n){e===Ot&&Gt(jt,t,n),I(e);var i=v(t,!0);return I(n),l(Rt,i)?(n.enumerable?(l(e,bt)&&e[bt][i]&&(e[bt][i]=!1),n=it(n,{enumerable:g(0,!1)})):(l(e,bt)||It(e,bt,g(1,{})),e[bt][i]=!0),Wt(e,i,n)):It(e,i,n)},Ut=function(e){var t=v(e,!0),n=Tt.call(this,t);return!(this===Ot&&l(Rt,t)&&!l(jt,t))&&(!(n||!l(this,t)||!l(Rt,t)||l(this,bt)&&this[bt][t])||n)},$t=function(e){var t=e===Ot,n=kt(t?jt:h(e)),i=[];return wt(n,function(e){!l(Rt,e)||t&&!l(Ot,e)||i.push(Rt[e])}),i};Me||(pe((Et=function(e){if(this instanceof Et)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==e?String(e):void 0,n=z(t),i=function(e){this===Ot&&i.call(jt,e),l(this,bt)&&l(this[bt],n)&&(this[bt][n]=!1),Wt(this,n,g(1,e))};return u&&Nt&&Wt(Ot,n,{configurable:!0,set:i}),Qe(n,t)})[xt],"toString",function(){return Ct(this).tag}),pe(Et,"withoutSetter",function(e){return Qe(z(e),e)}),s.f=Ut,k.f=Gt,E.f=qe,Ee.f=st.f=Ze,Pe.f=$t,ft.f=function(e){return Qe(Ve(e),e)},u&&(It(Et[xt],"description",{configurable:!0,get:function(){return Ct(this).description}}),pe(Ot,"propertyIsEnumerable",Ut,{unsafe:!0}))),le({global:!0,wrap:!0,forced:!Me,sham:!Me},{Symbol:Et}),wt(We(Mt),function(e){var t,n;t=e,n=ve.Symbol||(ve.Symbol={}),l(n,t)||ut(n,t,{value:ft.f(t)})}),le({target:yt,stat:!0,forced:!Me},{for:function(e){var t=String(e);if(l(Dt,t))return Dt[t];var n=Et(t);return Dt[t]=n,zt[n]=t,n},keyFor:function(e){if(!Lt(e))throw TypeError(e+" is not a symbol");if(l(zt,e))return zt[e]},useSetter:function(){Nt=!0},useSimple:function(){Nt=!1}}),le({target:"Object",stat:!0,forced:!Me,sham:!u},{create:function(e,t){return void 0===t?it(e):Ye(it(e),t)},defineProperty:Gt,defineProperties:Ye,getOwnPropertyDescriptor:qe}),le({target:"Object",stat:!0,forced:!Me},{getOwnPropertyNames:Ze,getOwnPropertySymbols:$t}),le({target:"Object",stat:!0,forced:a(function(){Pe.f(1)})},{getOwnPropertySymbols:function(e){return Pe.f(de(e))}}),Pt&&le({target:"JSON",stat:!0,forced:!Me||a(function(){var e=Et();return"[null]"!=Pt([e])||"{}"!=Pt({a:e})||"{}"!=Pt(Object(e))})},{stringify:function(e,t,n){for(var i,r=[e],o=1;o<arguments.length;)r.push(arguments[o++]);if((p(i=t)||void 0!==e)&&!Lt(e))return Ne(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!Lt(t))return t}),r[1]=t,Pt.apply(null,r)}}),Et[xt][_t]||T(Et[xt],_t,Et[xt].valueOf),tt=yt,(et=Et)&&!l(et=nt?et:et.prototype,ht)&&gt(et,ht,{configurable:!0,value:tt}),q[bt]=!0;var Xt,Bt,Vt,Ht,Jt,Kt,Qt=k.f,Yt=f.Symbol;!u||"function"!=typeof Yt||"description"in Yt.prototype&&void 0===Yt().description||(Xt={},se(Bt=function(e){var t=arguments.length<1||void 0===e?void 0:String(e),n=this instanceof Bt?new Yt(t):void 0===t?Yt():Yt(t);return""===t&&(Xt[n]=!0),n},Yt),(Vt=Bt.prototype=Yt.prototype).constructor=Bt,Ht=Vt.toString,Jt="Symbol(test)"==String(Yt("test")),Kt=/^Symbol\((.*)\)[^)]+$/,Qt(Vt,"description",{configurable:!0,get:function(){var e=p(this)?this.valueOf():this,t=Ht.call(e);if(l(Xt,e))return"";var n=Jt?t.slice(7,-1):t.replace(Kt,"$1");return""===n?void 0:n}}),le({global:!0,forced:!0},{Symbol:Bt}));var qt,Zt,en=te("navigator","userAgent")||"",tn=f.process,nn=tn&&tn.versions,rn=nn&&nn.v8;rn?Zt=(qt=rn.split("."))[0]+qt[1]:en&&(!(qt=en.match(/Edge\/(\d+)/))||74<=qt[1])&&(qt=en.match(/Chrome\/(\d+)/))&&(Zt=qt[1]);function on(t){return 51<=cn||!a(function(){var e=[];return(e.constructor={})[ln]=function(){return{foo:1}},1!==e[t](Boolean).foo})}function an(e){throw e}function sn(e,t){if(l(fn,e))return fn[e];var n=[][e],i=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,r=l(t,0)?t[0]:an,o=l(t,1)?t[1]:void 0;return fn[e]=!!n&&!a(function(){if(i&&!u)return 1;var e={length:-1};i?dn(e,1,{enumerable:!0,get:an}):e[1]=1,n.call(e,r,o)})}var cn=Zt&&+Zt,ln=Ve("species"),dn=Object.defineProperty,fn={},un=mt.filter,gn=on("filter"),hn=sn("filter");le({target:"Array",proto:!0,forced:!gn||!hn},{filter:function(e,t){return un(this,e,1<arguments.length?t:void 0)}});var pn=Ve("unscopables"),vn=Array.prototype;null==vn[pn]&&k.f(vn,pn,{configurable:!0,value:it(null)});var mn,wn=mt.find,bn="find",yn=!0,xn=sn(bn);bn in[]&&Array(1)[bn](function(){yn=!1}),le({target:"Array",proto:!0,forced:yn||!xn},{find:function(e,t){return wn(this,e,1<arguments.length?t:void 0)}}),mn=bn,vn[pn][mn]=!0;function _n(e,t){var n=[][e];return!!n&&a(function(){n.call(null,t||function(){throw 1},1)})}var Sn=_e.indexOf,Cn=[].indexOf,On=!!Cn&&1/[1].indexOf(1,-0)<0,En=_n("indexOf"),Pn=sn("indexOf",{ACCESSORS:!0,1:0});le({target:"Array",proto:!0,forced:On||!En||!Pn},{indexOf:function(e,t){return On?Cn.apply(this,arguments)||0:Sn(this,e,1<arguments.length?t:void 0)}});var An=mt.map,In=on("map"),kn=sn("map");le({target:"Array",proto:!0,forced:!In||!kn},{map:function(e,t){return An(this,e,1<arguments.length?t:void 0)}});var Tn=on("slice"),Rn=sn("slice",{ACCESSORS:!0,0:0,1:2}),jn=Ve("species"),Dn=[].slice,zn=Math.max;le({target:"Array",proto:!0,forced:!Tn||!Rn},{slice:function(e,t){var n,i,r,o,a,s,c,l=h(this),d=ie(l.length),f=re(e,d),u=re(void 0===t?d:t,d);if(Ne(l)&&(("function"==typeof(n=l.constructor)&&(n===Array||Ne(n.prototype))||p(n)&&null===(n=n[jn]))&&(n=void 0),n===Array||void 0===n))return Dn.call(l,f,u);for(i=new(void 0===n?Array:n)(zn(u-f,0)),r=0;f<u;f++,r++)f in l&&(o=i,a=r,s=l[f],c=void 0,(c=v(a))in o?k.f(o,c,g(0,s)):o[c]=s);return i.length=r,i}});var Mn=[],Fn=Mn.sort,Nn=a(function(){Mn.sort(void 0)}),Wn=a(function(){Mn.sort(null)}),Ln=_n("sort");le({target:"Array",proto:!0,forced:Nn||!Wn||!Ln},{sort:function(e){return void 0===e?Fn.call(de(this)):Fn.call(de(this),He(e))}}),le({target:"Object",stat:!0,forced:a(function(){We(1)})},{keys:function(e){return We(de(e))}});function Gn(s){return function(e){for(var t,n=h(e),i=We(n),r=i.length,o=0,a=[];o<r;)t=i[o++],u&&!Un.call(n,t)||a.push(s?[t,n[t]]:n[t]);return a}}var Un=s.f,$n={entries:Gn(!0),values:Gn(!1)}.values;le({target:"Object",stat:!0},{values:function(e){return $n(e)}});function Xn(e,t){return RegExp(e,t)}var Bn,Vn,Hn={UNSUPPORTED_Y:a(function(){var e=Xn("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:a(function(){var e=Xn("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Jn=RegExp.prototype.exec,Kn=String.prototype.replace,Qn=Jn,Yn=(Bn=/a/,Vn=/b*/g,Jn.call(Bn,"a"),Jn.call(Vn,"a"),0!==Bn.lastIndex||0!==Vn.lastIndex),qn=Hn.UNSUPPORTED_Y||Hn.BROKEN_CARET,Zn=void 0!==/()??/.exec("")[1];(Yn||Zn||qn)&&(Qn=function(e){var t,n,i,r,o=this,a=qn&&o.sticky,s=function(){var e=I(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}.call(o),c=o.source,l=0,d=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),d=String(e).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",d=" "+d,l++),n=new RegExp("^(?:"+c+")",s)),Zn&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Yn&&(t=o.lastIndex),i=Jn.call(a?n:o,d),a?i?(i.input=i.input.slice(l),i[0]=i[0].slice(l),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:Yn&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),Zn&&i&&1<i.length&&Kn.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i});var ei=Qn;le({target:"RegExp",proto:!0,forced:/./.exec!==ei},{exec:ei});function ti(s){return function(e,t){var n,i,r=String(c(e)),o=ne(t),a=r.length;return o<0||a<=o?s?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===a||(i=r.charCodeAt(o+1))<56320||57343<i?s?r.charAt(o):n:s?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}}var ni,ii,ri,oi,ai,si,ci,li,di,fi,ui,gi,hi=Ve("species"),pi=!a(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),vi="$0"==="a".replace(/./,"$0"),mi=Ve("replace"),wi=!!/./[mi]&&""===/./[mi]("a","$0"),bi=!a(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),yi={codeAt:ti(!1),charAt:ti(!0)}.charAt,xi=Math.max,_i=Math.min,Si=Math.floor,Ci=/\$([$&'`]|\d\d?|<[^>]*>)/g,Oi=/\$([$&'`]|\d\d?)/g;function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ii=2,ri=function(r,S,C,e){var O=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=e.REPLACE_KEEPS_$0,P=O?"$":"$0";return[function(e,t){var n=c(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,n,t):S.call(String(n),e,t)},function(e,t){if(!O&&E||"string"==typeof t&&-1===t.indexOf(P)){var n=C(S,e,this,t);if(n.done)return n.value}var i=I(e),r=String(this),o="function"==typeof t;o||(t=String(t));var a,s=i.global;s&&(a=i.unicode,i.lastIndex=0);for(var c,l,d=[];;){var f=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==A(e))throw TypeError("RegExp#exec called on incompatible receiver");return ei.call(e,t)}(i,r);if(null===f)break;if(d.push(f),!s)break;""===String(f[0])&&(i.lastIndex=(c=r,(l=ie(i.lastIndex))+(a?yi(c,l).length:1)))}for(var u,g="",h=0,p=0;p<d.length;p++){f=d[p];for(var v=String(f[0]),m=xi(_i(ne(f.index),r.length),0),w=[],b=1;b<f.length;b++)w.push(void 0===(u=f[b])?u:String(u));var y,x=f.groups,_=o?(y=[v].concat(w,m,r),void 0!==x&&y.push(x),String(t.apply(void 0,y))):function(o,a,s,c,l,e){var d=s+o.length,f=c.length,t=Oi;void 0!==l&&(l=de(l),t=Ci);return S.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(d);case"<":n=l[t.slice(1,-1)];break;default:var i=+t;if(0==i)return e;if(f<i){var r=Si(i/10);return 0===r?e:r<=f?void 0===c[r-1]?t.charAt(1):c[r-1]+t.charAt(1):e}n=c[i-1]}return void 0===n?"":n})}(v,r,m,w,x,t);h<=m&&(g+=r.slice(h,m)+_,h=m+v.length)}return g+r.slice(h)}]},di=Ve(ni="replace"),fi=!a(function(){var e={};return e[di]=function(){return 7},7!=""[ni](e)}),ui=fi&&!a(function(){var e=!1,t=/a/;return"split"===ni&&((t={constructor:{}}).constructor[hi]=function(){return t},t.flags="",t[di]=/./[di]),t.exec=function(){return e=!0,null},t[di](""),!e}),fi&&ui&&("replace"!==ni||pi&&vi&&!wi)&&("split"!==ni||bi)||(ai=/./[di],ci=(si=ri(di,""[ni],function(e,t,n,i,r){return t.exec===ei?fi&&!r?{done:!0,value:ai.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}},{REPLACE_KEEPS_$0:vi,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:wi}))[0],li=si[1],pe(String.prototype,ni,ci),pe(RegExp.prototype,di,2==ii?function(e,t){return li.call(e,this,t)}:function(e){return li.call(e,this)})),oi&&T(RegExp.prototype[di],"sham",!0);var Pi,Ai,Ii,ki,Ti,Ri,ji,Di={};function zi(e){var t=Ti(".hfg--cp-sidebar .toggle");return!0===e?(t.addClass("active"),void Ri.previewer.send("header_sidebar_open")):!1===e?(t.removeClass("active"),void Ri.previewer.send("header_sidebar_close")):(t.hasClass("active")?Ri.previewer.send("header_sidebar_close"):Ri.previewer.send("header_sidebar_open"),void t.toggleClass("active"))}Pi=jQuery,Ai=Pi(document),Ii=wp.customize||null,ki=HFG_Layout_Builder.isRTL,gi=function(s,c){var e={id:c,controlId:"",cols:12,cellHeight:45,items:[],container:null,widgetsSidebar:null,ready:!1,devices:{desktop:"Desktop",mobile:"Mobile/Tablet"},activePanel:"desktop",panels:{},activeRow:"main",draggingItem:null,insertPoint:null,insertRow:null,getTemplate:_.memoize(function(){var i=this,r={evaluate:/<#([\s\S]+?)#>/g,interpolate:/{{{([\s\S]+?)}}}/g,escape:/{{([^}]+?)}}(?!})/g,variable:"data"};return function(e,t,n){return _.isUndefined(t)&&(t="tmpl-customize-control-"+i.type),!_.isUndefined(n)&&_.isString(n)?r.variable=n:r.variable="data",_.template(Pi("#"+t).html(),null,r)(e)}}),drag_drop:function(){var r=this;Pi(".hfg--device-panel",r.container).each(function(){var n=Pi(this),i=n.data("device");r.panels[i]={},Pi(".hfg--cb-items",n).each(function(e){var t=Pi(this).attr("data-id")||"",n=t?"_sid_"+i+"-"+t:"_sid_"+i+e;Pi(this).attr("id",n)}),Pi(".grid-stack, .hfg--sidebar-items",n).each(function(){var e=Pi(this).attr("data-id")||"";r.panels[i][e]=Pi(this),Pi(this).droppable({out:function(){},over:function(){},drop:function(e,t){var n=Pi(this);r.gridster(n,t,e),r.save()}})});var e=Pi("#_sid_mobile-sidebar",n),t=e.attr("id")||!1;Pi(".grid-stack-item",n).draggable({revert:"invalid",connectToSortable:!!t&&"#"+t,start:function(e,t){Pi("body").addClass("builder-item-moving"),Pi(".hfg--cb-items",n).css("z-index",""),t.helper.parent().css("z-index",9999)},stop:function(e,t){Pi("body").removeClass("builder-item-moving"),Pi(".hfg--cb-items",n).css("z-index",""),t.helper.parent().css("z-index","")}}),0<e.length&&(e.sortable({revert:!0,change:function(){r.save()},receive:function(){Pi(this).find(".grid-stack-item").removeAttr("style").attr("data-gs-width",1),r.save()}}),r.panels[i].sidebar=e)})},sortGrid:function(e){Pi(".grid-stack-item",e).each(function(){var e,t=Pi(this),n=t.attr("data-gs-x")||0,n=parseInt(n),i=t.next();0<i.length&&(e=i.attr("data-gs-x")||0,(e=parseInt(e))<n&&t.insertAfter(i))})},getX:function(e){var t=e.attr("data-gs-x")||0;return parseInt(t)},getW:function(e,t){var n;return _.isUndefined(t)&&(t=!1),n=t?e.attr("data-df-width")||1:e.attr("data-gs-width")||1,parseInt(n)},gridGetItemInfo:function(e,t,n){for(var i=this.getX(e),r=this.getW(e),o=0,a=0,s=!1,c=i-1;0<=c&&!s;)0===t[c]?o++:s=!0,c--;for(s=!1,c=i+r;c<this.cols&&!s;)0===t[c]?a++:s=!0,c++;return{flag:t,x:i,w:r,item:e,before:o,after:a,id:e.attr("data-id")||"",wrapper:n}},updateItemsPositions:function(e){for(var t=this.cols,n=0;n<=t;n++)"object"!==Ei(e[n])&&"function"!=typeof e[n]||e[n].attr("data-gs-x",n)},gridster:function(e,t,n){function g(e){for(var t=e.x,n=e.w,i=e.el,r=t;r<t+n;r++)C[r]=r===t?i:1}function c(e){for(var t=e.x,n=e.w,i=t;i<t+n;i++)C[i]=0}function h(e,t){for(var n=0,i=e;i<O;i++)if(0===C[i])n++;else if(t)return n;return n}function p(e,t){var n=0;void 0===t&&(t=!1);for(var i=e;0<=i;i--)if(0===C[i])n++;else if(t)return n;return n}function v(e){return 0===C[e]}function m(e,t){for(var n=e;n<e+t;){if(0!==C[n])return;n++}return 1}function w(e){if(e<0)return{x:-1,w:1};var t,n,i,r=-1;if(C[e]<=1)for(t=e,i=!1;0<=t&&!i;)1!==C[t]&&0!==C[t]&&(r=t,i=!0),t--;else r=e;for(t=r+1,n=r;1===C[t];)n++,t++;return{x:r,w:n+1-r}}function b(e){var t,n,i,r=-1;if(C[e]<O)for(t=e,i=!1;t<O&&!i;)1!==C[t]&&0!==C[t]&&(r=t,i=!0),t++;else r=e;for(t=r+1,n=r;1===C[t];)n++,t++;return{x:r,w:n+1-r}}function y(e,t){var n=C.slice(),i=p(e);if(0===i)return t;var r=w(e),o=0<=r.x?r.x+r.w-1:e,a=t;i<t&&(a=i);for(var s=0,c=0,l=o;c<=a&&0<=l;)0===C[l]&&(c++,s=l),l--;for(var d=[],f=0,l=s;l<=o;l++)(C[l]=0)!==n[l]&&(d[f]=n[l],f++);for(f=0,l=s;l<=o;l++)void 0!==d[f]?C[l]=d[f]:C[l]=0,f++;return t-a}function x(e,t){var n=C.slice(),i=h(e);if(0===i)return t;var r=w(e),o=0<=r.x?r.x:e,a=t;i<t&&(a=i);for(var s=e,c=0,l=o;c<a&&l<O;)0===C[l]&&(c++,s=l),l++;for(var d=[],f=0,l=o;l<=s;l++)(C[l]=0)!==n[l]&&(d[f]=n[l],f++);for(f=d.length-1,l=s;o<=l;l--)void 0!==d[f]?C[l]=d[f]:C[l]=0,f--;return t-a}function S(){E.updateItemsPositions(C)}function l(e,t){var n,i,r,o,a,s,d=e.x,c=e.w,l=function(){for(var e=0,t=0;t<O;t++)0===C[t]&&e++;return e}();if(l<=0)return!1;if(_.isUndefined(t)&&(t=!1),!t){if(v(d)){if(m(d,o=c))return g(e),e.el.attr("data-gs-x",d),e.el.attr("data-gs-width",o),!0;for((n=c<=(i=h(d,!0))+(r=p(d-1,!0))&&c-i<=r?d-(c-i):d-r)<0&&(n=0);1<=o;){if(m(n,o))return e.x=n,e.w=o,g(e),e.el.attr("data-gs-x",n),e.el.attr("data-gs-width",o),!0;o--}}if(1===C[d]){var f=w(d);if(0<=f.x&&d>f.x+Math.floor(f.w/2)&&d>f.x&&(n=f.x+f.w,c<=(i=h(n,!0))))return g({el:e.el,x:n,w:c}),e.el.attr("data-gs-x",n),e.el.attr("data-gs-width",c),!0}}console.log("--------------------------------------------------------"),function(e,t){var n,i,r,o,a=0,s=!1;if(console.log("insert at x",t),console.log("insert node",e),v(t)){if(console.log("empty_at_X",t),n=w(t),i=b(t),-1<n.x){if(console.log("found_item_left",n),(a=h(n.x))>=e.w)if(m(t,e.w))console.log("found",e),d=t,s=!0;else if(e.ox>t)for(r=n.x+n.w,o=(o=p(r))<=e.w?e.w-o:e.w,x(r+1,o),a=h(r),console.log("loop_start_i",r);r>n.x+n.w&&!s;)m(r,e.w)&&(console.log("found_in_loop__i",r),d=r,s=!0),r--;if(!s&&e.ox<t){console.log("try_move_items_to_left",n),r=n.x+n.w-1,o=p(n.x),console.log("el",o),o>e.w&&(o=e.w),o-=2,y(n.x,o),console.log("try_move_items_to_left_flag",C),console.log("el2",o),r-=a=h(r),i=b(t);var c=n.x+n.w;for(-1<i.x&&(c=i.x),console.log("loop_start 2_i",r);r<c&&!s;)m(r,e.w)&&(console.log("found_in_loop__@__i",r),d=r,s=!0),r++}s||(d=n.x+n.w,e.w=a,e.x=d,console.log("resize_new_w",a),console.log("resize_new_x",d))}else if(-1<i.x){console.log("found_item_right",i),i=b(t),a=h(t,!1),console.log("move_all_item_to Right");var l=a>=e.w?e.w:a;for(x(t,l),r=i.x,console.log("loop_start Right",r);0<=r&&!s;)m(r,e.w)&&(d=r,e.x=d,s=!0,console.log("found_in_while_r",r)),r--;s||(d=t,e.w=a,e.x=d,console.log("resize_r_new_w",a),console.log("resize_r_new_x",d))}}else if(console.log("x is not empty"),n=w(t),e.ox<n.x)if(y(t,e.w),console.log("Move All items to left"),v(t))d=t;else{for(;!v(t)&&t<=E.cols-1;)t++;d=t}else if(x(t,e.w),console.log("Move All items to right"),v(t))d=t;else{for(;!v(t)&&0<=t;)t--;d=t}d>E.cols&&(d=E.cols-1),e.x=d,console.log("new node x",d)}(e,_.clone(d));var u=0;for(d+c>E.cols-1&&(u=p(d,!0),console.log("le",u),0<u&&console.log("move_Left",d+c-E.cols-1)),S();1<=c;){if(c<=l){if(m(d,c))return console.log("",{x:d,w:c}),e.w=c,g(e),e.el.attr("data-gs-x",d),e.el.attr("data-gs-width",c),!0;for(u=p(d,!0),a=d-u,console.log("newX",a),s=a;s<O;){if(m(s,c))return console.log("Insert in While",{x:s,w:c}),e.w=c,g({el:e.el,x:s,w:c}),e.el.attr("data-gs-x",s),e.el.attr("data-gs-width",c),!0;s++}}c--}for(c=e.w;1<=c;){for(s=0;s<O;){if(m(s,c))return console.log("Insert in While 2",{x:s,w:c}),g({el:e.el,x:s,w:c}),e.el.attr("data-gs-x",s),e.el.attr("data-gs-width",c),!0;s++}c--}return console.log("Insert END While",{x:s,w:c}),!1}var C=[],O=this.cols,E=this,i=(C=E.getFlag(e)).slice(),r=e.offset();E.draggingItem=t.draggable;var o,a,s=e.width(),d=s/E.cols,f=t.offset,u=E.getW(t.draggable,!1),P=E.getW(t.draggable,!0),A=t.draggable.width();console.log("DROP ITEM WIDTH",P),console.log("DROP ITEM cw WIDTH",u);var I=E.getX(t.draggable);ki&&c({el:t.draggable,x:I,w:P});var k,T=0,R=0,j=!1;if(t.draggable.parent().is(e)?(a=!0,console.log("Item in this row"),P=u):(a=!1,console.log("Not in this row"),P<u&&(P=u)),ki?(T=Math.round((r.left+s+10-n.clientX)/d),(R=Math.round((r.left+s-(f.left+A+10))/d))<0&&(R=0)):(T=Math.round((n.clientX-r.left)/d),(R=Math.round((f.left-r.left-10)/d))<0&&(R=0)),T>E.cols&&(T=E.cols),k=o=R,ki){if(!v(k))for(;k<E.cols&&!j;)v(k)?j=!0:k++}else if(!v(o)){for(;o<=T&&!j;)v(o)?j=!0:o++;T<o&&(o=T)}if(j||(o=a?R:T),o<0&&(o=0),o+P>=E.cols){for(j=!0,k=o;k+P>E.cols&&j;)v(k)?k--:(k++,j=!1);o=k}var D={el:t.draggable,x:o,w:P,ox:I,ow:u};D.x<=0&&(D.x=0);(a?(D.x=parseInt(t.draggable.attr("data-gs-x")||0),D.w=parseInt(t.draggable.attr("data-gs-width")||1),function(e,t){var n=e.w;c(e);var i=w(t),r=0;if(-1<i.x&&(r=i.x+i.w),m(t,n))return g({el:e.el,x:t,w:n});if(0<r&&m(r,n)&&r<=t){var o=b(t);if(-1<o.x&&e.w+t>=o.x)for(var a=_.clone(t);r<a;){if(m(a,n))return g({el:e.el,x:a,w:n});a--}if(t+n>E.cols){var s=E.cols-n;if(m(s,n))return g({el:e.el,x:s,w:n})}return g({el:e.el,x:r,w:n})}e.x=t,l(e,!0)}(D,o),!0):l(D))?(t.draggable.removeClass("item-from-list"),e.append(t.draggable),t.draggable.removeAttr("style"),console.log("DID Flag: ",C),E.draggingItem=null):(t.draggable.removeAttr("style"),console.log("Can not insert"),C=i),S(),E.updateAllGrids()},updateAllGrids:function(){var n=this;_.each(n.panels[n.activePanel],function(e,t){n.updateGridFlag(e)})},setGridWidth:function(e,t){var n,i,r,o,a=this,s=t.element,c=e.width(),l=t.size.width,d=t.originalSize.width,f=Math.ceil(c/a.cols)-1,u=ki?(n=t.originalPosition.left>t.position.left,d!==l):(n=t.originalPosition.left>t.position.left,t.originalPosition.left<t.position.left),g=t.originalElement.attr("data-gs-width")||1,h=t.originalElement.attr("data-gs-x")||0,g=parseInt(g),h=parseInt(h),p=a.getFlag(e),v=a.gridGetItemInfo(t.originalElement,p,e);if(n)return ki?(r=Math.floor((t.position.left-1)/f),(i=(r=a.cols-r)-h-g)>v.after&&(i=v.after),o=g+i,s.attr("data-gs-x",h).removeAttr("style")):((i=h-(r=Math.floor((t.position.left-1)/f)))>v.before&&(i=v.before),r=h-i,o=g+i,s.attr("data-gs-x",r).removeAttr("style")),s.attr("data-gs-width",o).removeAttr("style"),void a.updateGridFlag(e);if(u)return ki?t.originalPosition.left!==t.position.left?(r=Math.floor((t.position.left-1)/f),g<(i=g+h-(r=a.cols-r))&&(i=0),o=g-i,(r=h)<=0&&(r=0),console.log("diffRight_RTL_COL_New __left")):(r=Math.ceil((t.position.left+t.size.width-11)/f),(i=h-(r=a.cols-r))>v.before&&(i=v.before),r=h-i,o=g+i):((o=g-(i=(r=Math.round((t.position.left-1)/f))-h))<=0&&(o=1,i=0),r=h+i),s.attr("data-gs-x",r).removeAttr("style"),s.attr("data-gs-width",o).removeAttr("style"),void a.updateGridFlag(e);var m=v.x,w=Math.ceil((t.position.left+t.size.width-11)/f),b=v.w+(w-(m+v.w));v.x+b>v.x+v.w+v.after&&(b=v.w+v.after),l<t.originalSize.width&&((w=Math.round((t.position.left+t.size.width-11)/f))<=m&&(w=m+1),b=v.w-(m+v.w-w)),b<=0&&(b=1),s.attr("data-gs-width",b).removeAttr("style"),a.updateGridFlag(e)},getFlag:function(e){var t,n=e.data("gridRowFlag")||[];if(_.isEmpty(n)){for(t=0;t<this.cols;t++)n[t]=0;e.data("gridRowFlag",n)}return n},updateGridFlag:function(e){for(var i=this,r=[],o=0;o<i.cols;o++)r[o]=0;return Pi(".grid-stack-item",e).each(function(e){Pi(this).removeAttr("style");var t=i.getX(Pi(this)),n=i.getW(Pi(this));for(o=t;o<t+n;o++)r[o]=o===t?Pi(this):1}),e.data("gridRowFlag",r),i.updateItemsPositions(r),i.sortGrid(e),r},addNewWidget:function(e,t){var n=this,i=n.container.find(".hfg--device-panel.hfg--panel-"+n.activePanel),r=t;_.isObject(r)||(r=i.find(".hfg--cb-items").first());var o=e;o.draggable({revert:"invalid",appendTo:i,scroll:!1,zIndex:99999,handle:".grid-stack-item-content",start:function(e,t){Pi("body").addClass("builder-item-moving"),Pi(".hfg--cb-items",i).css("z-index",""),t.helper.parent().css("z-index",9999)},stop:function(){Pi("body").removeClass("builder-item-moving"),Pi(".hfg--cb-items",i).css("z-index",""),n.save()},drag:function(){}}).resizable({handles:"w, e",start:function(e,t){t.originalElement.css({right:"auto",left:t.position.left})},stop:function(e,t){n.setGridWidth(t.element.parent(),t),n.save()}}),r.append(o),n.updateGridFlag(r),o[0]&&Pi("#accordion-section-"+o[0].dataset.section).removeClass("hfg-section-inactive")},addPanel:function(e){var t=this.getTemplate(),n="tmpl-hfg--cb-panel";if(0!==Pi("#"+n).length)return _.isObject(s.rows)||(s.rows={}),'<div class="hfg--device-panel hfg-vertical-panel hfg--panel-'+e+'" data-device="'+e+'">'+t({device:e,id:s.id,rows:s.rows},n)+"</div>"},addDevicePanels:function(){var i=this;_.each(i.devices,function(e,t){var n=i.addPanel(t);Pi(".hfg--cb-devices-switcher",i.container).append('<a href="#" class="switch-to switch-to-'+t+'" data-device="'+t+'"><span class="icon '+t+'-icon"></span><span>'+e+"</span></a>"),Pi(".hfg--cb-body",i.container).append(n),Pi(".hfg-widgets-panel-inner",i.widgetSidebarContainer).append('<div class=" hfg--widgets hfg--widgets-'+t+'" data-device="'+t+'"></div>')});var e=Pi("#hfg-upsell-tmpl");e.length&&Pi(e.html()).insertAfter(Pi(".hfg--cb-devices-switcher",i.container))},addItem:function(e,t){var n=this.getTemplate(),i="tmpl-hfg--cb-item";if(0!==Pi("#"+i).length){e.elementOrder=t;var r=n(e,i);return Pi(r)}},addAvailableItems:function(){var a=this;_.each(a.devices,function(e,o){_.each(a.items,function(e,t){var n,i,r=!0;_.isUndefined(e.devices)||_.isEmpty(e.devices)||(_.isString(e.devices)?e.devices!==o&&(r=!1):(n=!1,_.each(e.devices,function(e){o===e&&(n=!0)}),n||(r=!1))),r&&(t=Object.keys(a.items).indexOf(t),i=a.addItem(e,t),Pi(".hfg--widgets-"+o,a.widgetSidebarContainer).prepend(i))})})},switchToDevice:function(e,t){var n=this;1<_.size(n.devices)?(Pi(".hfg--cb-devices-switcher a",n.container).removeClass("hfg--tab-active"),Pi(".hfg--cb-devices-switcher .switch-to-"+e,n.container).addClass("hfg--tab-active"),Pi(".hfg--device-panel",n.container).addClass("hfg--panel-hide"),Pi(".hfg--device-panel.hfg--panel-"+e,n.container).removeClass("hfg--panel-hide"),n.activePanel=e,Pi(".hfg--device-panel .hfg-available-items .item-from-list").each(function(e,t){Pi("#accordion-section-"+Pi(t)[0].dataset.section).removeClass("hfg-section-inactive")}),Pi(".hfg--device-panel.hfg--panel-"+e+" .hfg-available-items .item-from-list").each(function(e,t){Pi("#accordion-section-"+Pi(t)[0].dataset.section).addClass("hfg-section-inactive")})):(Pi(".hfg--device-panel.hfg--panel-"+e+" .hfg-available-items .item-from-list").each(function(e,t){Pi("#accordion-section-"+Pi(t)[0].dataset.section).addClass("hfg-section-inactive")}),Pi(".hfg--cb-devices-switcher a",n.container).addClass("hfg--tab-active")),(_.isUndefined(t)||t)&&("desktop"===e?Pi("#customize-footer-actions .preview-desktop").trigger("click"):Pi("#customize-footer-actions .preview-mobile").trigger("click"))},addExistingRowsItems:function(){var a=this,t=!1;Ii.control(a.controlId).setting.get()&&(t=JSON.parse(Ii.control(a.controlId).setting.get())),_.isObject(t)||(t={}),_.each(a.panels,function(r,o){var e={};_.isObject(t[o])&&(e=t[o]),_.each(e,function(e,i){_.isUndefined(e)||_.each(e,function(e,t){var n=Pi('.hfg--widgets[data-device="'+o+'"] .grid-stack-item[data-id="'+e.id+'"]').first();n.attr("data-gs-width",e.width),n.attr("data-gs-x",e.x),n.removeClass("item-from-list"),a.addNewWidget(n,r[i]),Pi("#accordion-section-"+e.id).removeClass("hfg-section-inactive")})}),a.hideDuplicates(o)}),a.ready=!0},focus:function(){this.container.on("click",".hfg--cb-item-setting, .hfg--cb-item-name, .item-tooltip",function(e){e.preventDefault();var t=Pi(this).data("section")||"",n=Pi(this).attr("data-control")||"",i=!1;n&&(_.isUndefined(Ii.control(n))||(Ii.control(n).focus(),i=!0)),i||t&&!_.isUndefined(Ii.section(t))&&Ii.section(t).focus()}),this.container.on("click",".hfg--cb-row-settings",function(e){e.preventDefault();var t=Pi(this).attr("data-id")||"",n=s.id+"_"+t;_.isUndefined(Ii.section(n))||Ii.section(n).focus()})},closeComponentsSidebar:function(){Pi(".widgets-panel--visible").removeClass("widgets-panel--visible"),Pi(".hfg--widgets.widgets--visible").removeClass("widgets--visible"),Pi(this.widgetSidebarContainer).find(".component-search").val("").trigger("keyup"),Pi(this.widgetSidebarContainer).removeClass("preview-right preview-left"),Pi("body").removeClass("hfg--widgets-open"),Pi(".hfg--component-preview.visible").removeClass("visible")},initComponentsSidebar:function(){var l=this;Pi(l.container).on("click",".add-button--grid",function(e){l.insertPoint=Pi(this).data("slot"),l.insertRow=Pi(this).closest(".hfg--row-inner").find(".hfg--cb-items").data("id"),e.preventDefault(),l.closeComponentsSidebar();var t=e.target.getBoundingClientRect(),n=Pi(".wp-full-overlay").hasClass("collapsed")?0:Pi("#customize-controls").outerWidth(),i=Pi(l.widgetSidebarContainer).outerWidth(),r=Pi(l.widgetSidebarContainer).outerHeight(),o={top:t.top-(r+5)};6<l.insertPoint?(Pi(l.widgetSidebarContainer).addClass("preview-left"),o.left=t.left-n-i+i/7+Pi(this).outerWidth()):l.insertPoint<5?(Pi(l.widgetSidebarContainer).addClass("preview-right"),o.left=t.left-n-i/7):o.left=t.left-n-i/2+Pi(this).outerWidth()/2,Pi(l.widgetSidebarContainer).css(o);var a=Pi(this).closest(".hfg--device-panel")[0].getAttribute("data-device");Pi(l.widgetSidebarContainer).addClass("widgets-panel--visible"),Pi(l.widgetSidebarContainer).find(" .hfg--widgets-"+a).addClass("widgets--visible")}),Pi(l.widgetSidebarContainer).on("click",".hfg-widgets-panel-header .close",function(e){l.closeComponentsSidebar()}),Pi(l.widgetSidebarContainer).on("keyup input",".component-search",function(e){var t=e.target.value.toLowerCase();_.each(l.widgetSidebarContainer.find(".grid-stack-item"),function(e){Pi(e).filter(function(){return!Pi(this).hasClass("duplicate")&&void Pi(this).toggle(-1<Pi(this).text().toLowerCase().indexOf(t))})})}),Pi(l.widgetSidebarContainer).on("click",".grid-stack-item",function(e){l.closeComponentsSidebar();var t=JSON.parse(Ii.control(l.controlId).setting.get()),n=Pi(this).closest(".hfg--widgets").data("device"),i=Pi(this).data("df-width"),r=Pi(this).data("id");void 0===t[n]&&(t[n]={}),void 0===t[n][l.insertRow]&&(t[n][l.insertRow]={});var o=Object.values(t[n][l.insertRow]),a={x:l.insertPoint,y:1,width:i,height:1,id:r};o.push(a),Pi(this).attr("data-gs-x",l.insertPoint),Pi(this).attr("data-gs-width",i),o.sort(function(e,t){return e.x<t.x?-1:e.x>t.x?1:0});for(var s=0;s<o.length;s++)o[s].id===r&&(s===o.length-1?12<o[s].x+o[s].width&&(o[s].width=o[s].x+o[s].width-12,Pi(this).attr("data-gs-width",o[s].width)):o[s].x+o[s].width>o[s+1].x&&(o[s].width=o[s+1].x-o[s].x,Pi(this).attr("data-gs-width",o[s].width)));var c=Pi(this).find(".grid-stack-item-content");c.addClass("hfg-highlight"),setTimeout(function(){c.removeClass("hfg-highlight")},3500),Pi("#_sid_"+n+"-"+l.insertRow,l.container[0]).append(this),l.addNewWidget(Pi(this),Pi(l.container[0]).find(" #_sid_"+n+"-"+l.insertRow)),Ii.section(this.getAttribute("data-section")).focus(),l.save(),l.insertRow=null,l.insertPoint=null,l.hideDuplicates(n)})},remove:function(){var i=this;Pi(i.container).on("click",".hfg--device-panel .hfg--cb-item-remove",function(e){e.preventDefault();var t=Pi(this).closest(".grid-stack-item"),n=t.closest(".hfg--device-panel")[0].getAttribute("data-device");t.attr("data-gs-x",0),t.removeAttr("style"),Pi(i.widgetSidebarContainer).find(".hfg--widgets-"+n).prepend(t),Pi("#accordion-section-"+t[0].dataset.section).addClass("hfg-section-inactive"),i.updateAllGrids(),i.hideDuplicates(n),i.save()})},removeAllItems:function(){var i=this;Pi(i.container).find(".grid-stack-item").each(function(e,t){var n=Pi(t).closest(".hfg--device-panel")[0].getAttribute("data-device");Pi(t).attr("data-gs-x",0),Pi(t).removeAttr("style"),Pi(i.widgetSidebarContainer).find(".hfg--widgets-"+n).prepend(t),i.updateAllGrids(),i.hideDuplicates(n)})},hideDuplicates:function(e){var t=Pi(this.widgetSidebarContainer).find(".hfg--widgets-"+e+" .grid-stack-item"),n={};_.each(t,function(e){var t=Pi(e).data("slug");if("hfg-generic-component"===t)return!1;void 0===n[t]&&(n[t]=[]),n[t].push(e)}),_.each(n,function(e,t){return e.length<2?(Pi(e[0]).removeClass("duplicate"),!1):void _.each(e,function(e,t){return 0===t?(Pi(e).removeClass("duplicate"),!1):void Pi(e).addClass("duplicate")})})},encodeValue:function(e){return JSON.stringify(e)},listenForLayoutSideloading:function(){var t=this;document.addEventListener("neve-changed-builder-value",function(e){return!!e.detail&&(e.detail.id===t.id&&(Ii.control(t.controlId).setting.set(t.encodeValue(e.detail.value)),t.removeAllItems(),void t.addExistingRowsItems()))})},decodeValue:function(e){return JSON.parse(e)},save:function(){var i,r=this;r.ready&&(i={},_.each(r.panels,function(e,n){i[n]={},_.each(e,function(e,t){i[n][t]=_.map(Pi(" > .grid-stack-item",e),function(e){return e=Pi(e),{x:r.getX(e),y:1,width:r.getW(e),height:1,id:e.data("id")||""}})})}),Ii.control(r.controlId).setting.set(r.encodeValue(i)))},showPanel:function(){var t=this;this.container.find(".add-button--grid").addClass("hfg-highlight"),setTimeout(function(){t.container.find(".add-button--grid").removeClass("hfg-highlight")},1e3),this.container.removeClass("hfg--builder--hide").addClass("hfg--builder-show"),setTimeout(function(){var e=t.container.height();Pi("#customize-preview").addClass("cb--preview-panel-show").css({bottom:e-1,"margin-top":"0px"})},100)},hidePanel:function(){this.container.removeClass("hfg--builder-show"),Pi("#customize-preview").removeClass("cb--preview-panel-show").removeAttr("style")},togglePanel:function(){var t=this;Ii.state("expandedPanel").bind(function(e){Ii.panel(s.panel).expanded()?(Ai.trigger("hfg_panel_builder_open",[s.panel]),top._current_builder_panel=c,t.showPanel()):(t.hidePanel(),t.closeComponentsSidebar())}),t.container.on("click",".hfg--panel-close",function(e){e.preventDefault(),t.container.toggleClass("hfg--builder--hide"),t.container.hasClass("hfg--builder--hide")?Pi("#customize-preview").removeClass("cb--preview-panel-show"):Pi("#customize-preview").addClass("cb--preview-panel-show")})},panelLayoutCSS:function(){var e=Pi("#customize-controls").width();Ii.state("paneVisible").get()||(e=0),ki?this.container.find(".hfg--cb-inner").css({"margin-right":e}):this.container.find(".hfg--cb-inner").css({"margin-left":e})},populateComponentPreviews:function(){var n=this,i=n.getTemplate();_.each(n.devices,function(e,t){_.each(n.items,function(e){if(null===e.description)return!1;var t=i(e,"tmpl-hfg--widgets-preview");Pi(n.widgetSidebarContainer).append(t)})})},init:function(e,t,n){var i=this,r=i.getTemplate(),o=r(s,"tmpl-hfg--builder-panel"),a=r(s,"tmpl-hfg--widgets-sidebar");i.container=Pi(o),i.widgetSidebarContainer=Pi(a),Pi("body .wp-full-overlay").append(i.container).append(i.widgetSidebarContainer),i.controlId=e,i.items=t,i.devices=n,s.section&&Ii.section(s.section).container.addClass("hfg--hide"),i.addDevicePanels(),i.switchToDevice(i.activePanel),i.addAvailableItems(),i.populateComponentPreviews(),i.switchToDevice(i.activePanel),i.drag_drop(),i.initComponentsSidebar(),i.focus(),i.remove(),i.addExistingRowsItems(),i.listenForLayoutSideloading(),Ii.panel(s.panel).expanded()?i.showPanel():(i.hidePanel(),i.closeComponentsSidebar()),Ii.previewedDevice.bind(function(e){"desktop"===e?i.switchToDevice("desktop",!1):i.switchToDevice("mobile",!1)}),i.togglePanel(),Ii.state("paneVisible").get()&&i.panelLayoutCSS(),Ii.state("paneVisible").bind(function(){i.panelLayoutCSS()}),Pi(window).resize(_.throttle(function(){i.panelLayoutCSS()},100)),i.container.on("click",".hfg--cb-devices-switcher a.switch-to",function(e){e.preventDefault();var t=Pi(this).data("device");i.switchToDevice(t);var n=new CustomEvent("neveChangedRepsonsivePreview",{detail:t});document.dispatchEvent(n)}),Ai.trigger("hfg_builder_panel_loaded",[c,i])}};return e.init(s.control_id,s.items,s.devices),e},Ti=jQuery,Ri=wp.customize||null,ji=Ti(document),Ri.bind("ready",function(e,t){_.each(HFG_Layout_Builder.builders,function(e,t){Di[t]=new gi(e,t)}),Ri.bind("pane-contents-reflowed",function(){setTimeout(function(){0===Ti("#sub-accordion-panel-widgets .no-widget-areas-rendered-notice .footer_moved_widgets_text").length&&Ti("#sub-accordion-panel-widgets .no-widget-areas-rendered-notice").append('<p class="footer_moved_widgets_text">'+HFG_Layout_Builder.footer_moved_widgets_text+"</p>")},1e3)}),Ri.state("expandedSection").bind(function(e){Ti(".hfg--device-panel .grid-stack-item").removeClass("item-active"),Ti(".hfg--cb-row").removeClass("row-active"),e&&(Ti('.hfg--cb-row[data-id="'+e.id+'"]').addClass("row-active"),Ti(".hfg--device-panel .grid-stack-item.for-s-"+e.id).addClass("item-active"))})}),ji.on("click",".focus-section",function(e){e.preventDefault();var t=Ti(this).attr("data-id")||"";(t=t||(t=Ti(this).attr("href")||"").replace("#",""))&&Ri.section(t)&&Ri.section(t).focus()}),ji.on("click",".focus-control",function(e){e.preventDefault();var t=Ti(this).attr("data-id")||"";(t=t||(t=Ti(this).attr("href")||"").replace("#",""))&&Ri.control(t)&&Ri.control(t).focus()}),ji.on("click",".focus-panel",function(e){e.preventDefault();var t=Ti(this).attr("data-id")||"";(t=t||(t=Ti(this).attr("href")||"").replace("#",""))&&Ri.panel(t)&&Ri.panel(t).focus()}),ji.on("mouseover",".hfg--widgets .grid-stack-item",function(e){var t=Ti(this),n=t.attr("data-id");Ti(t).closest(".hfg--widgets-panel").find('[data-for-component="'+n+'"]').addClass("visible")}),ji.on("mouseleave",".hfg--widgets .grid-stack-item",function(e){var t=Ti(this),n=t.attr("data-id");Ti(t).closest(".hfg--widgets-panel").find('[data-for-component="'+n+'"]').removeClass("visible")}),ji.on("mouseover",".hfg--cb-row .grid-stack-item",function(e){var t=Ti(this),n=Ti(".hfg--cb-item-remove",t).outerWidth()+Ti(".hfg--cb-item-setting",t).outerWidth();Ti(".grid-stack-item-content",t).innerWidth()-50<n&&t.addClass("show-tooltip")}),ji.on("mouseleave",".hfg--cb-row .grid-stack-item",function(e){Ti(this).removeClass("show-tooltip")}),Ri.bind("ready",function(){Ri.section.each(function(t){t.expanded.bind(function(e){var n=[];Ti(".hfg--sidebar-items .grid-stack-item .grid-stack-item-content .hfg--cb-item-name").each(function(e,t){n.push(Ti(t).data("section"))}),n.push("hfg_header_layout_sidebar"),-1!==n.indexOf(t.id)&&e&&"desktop"!==Ri.previewedDevice.get()?zi(!0):zi(!1)})}),Ri.previewer.bind("neve-toggle-navbar",function(){Ti(".hfg--cp-sidebar .toggle").toggleClass("active")})}),ji.on("click",".hfg--cp-sidebar .toggle",function(){zi()}),ji.on("click",".hfg--cp-sidebar .hfg--cb-row-settings,.hfg--cp-sidebar .grid-stack-item",function(){zi(!0)}),ji.on("click",".quick-links a",function(e){e.preventDefault(),e.stopPropagation();var t=Ti(this).data("control-focus");if("toggle_sidebar"===t)return zi(!0),!1;wp.customize.control(t).focus(),Ti("label."+t).click()}),hashCode=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<this.length;t++)n=(n<<5)-n+this.charCodeAt(t),n|=0;return n},wp.customize.sectionConstructor.hfg_instructions=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}})}();
